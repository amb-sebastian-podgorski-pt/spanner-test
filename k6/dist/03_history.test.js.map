{"version":3,"file":"03_history.test.js","mappings":"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","sources":["webpack://typescript/webpack/bootstrap","webpack://typescript/webpack/runtime/compat get default export","webpack://typescript/webpack/runtime/define property getters","webpack://typescript/webpack/runtime/hasOwnProperty shorthand","webpack://typescript/webpack/runtime/make namespace object","webpack://typescript/external commonjs \"k6\"","webpack://typescript/external commonjs \"k6/http\"","webpack://typescript/./src/03_history.test.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6/http\");","import { sleep, check } from 'k6';\nimport { Options } from 'k6/options';\nimport http from 'k6/http';\n\n// Configuration options for the load test\nexport let options: Options = {\n  // Stages for ramping up/down VUs\n  stages: [\n    { duration: '30s', target: 40 },  // Ramp up to 40 VUs over 30s\n    { duration: '1m30s', target: 40 }, // Stay at 40 VUs for 1.5 minutes\n    { duration: '30s', target: 0 },   // Ramp down to 0 VUs over 30s\n  ],\n  thresholds: {\n    // Define performance thresholds\n    http_req_duration: ['p(95)<700'],  // 95% of requests should be below 700ms\n    http_req_failed: ['rate<0.02'],    // Error rate should be below 2%\n  },\n};\n\n// Environment variables (can be overridden with K6_VARS)\nconst API_BASE_URL = __ENV.API_BASE_URL || 'http://localhost:3000/api';\nconst WALLET_ID = __ENV.WALLET_ID || 'test-wallet-id';\n\nexport default () => {\n  // Simulate pagination with random page size and number\n  const pageSize = [10, 20, 50][Math.floor(Math.random() * 3)];\n  const page = Math.floor(Math.random() * 5) + 1; // Pages 1-5\n  \n  // Set headers and query parameters\n  const params = {\n    headers: {\n      'Accept': 'application/json',\n    },\n    // Optional: Add query params for pagination/filtering\n    params: {\n      page: page.toString(),\n      limit: pageSize.toString(),\n      // Randomly add sort parameter\n      ...(Math.random() > 0.5 ? { sort: 'date:desc' } : {})\n    }\n  };\n\n  // Send GET request\n  const res = http.get(\n    `${API_BASE_URL}/wallets/${WALLET_ID}/transactions`,\n    params\n  );\n\n  // Verify the response\n  check(res, {\n    'status is 200': () => res.status === 200,\n    'transactions data is valid': () => {\n      try {\n        const body = JSON.parse(res.body as string);\n        return body && \n               typeof body === 'object' && \n               Array.isArray(body.transactions || body.items || body.data || []);\n      } catch {\n        return false;\n      }\n    },\n    'pagination info is present': () => {\n      try {\n        const body = JSON.parse(res.body as string);\n        return body && \n               typeof body === 'object' && \n               (body.totalCount !== undefined || \n                body.total !== undefined || \n                body.meta?.total !== undefined);\n      } catch {\n        return false;\n      }\n    }\n  });\n\n  // Sleep between 1-2.5 seconds between requests\n  sleep(Math.random() * 1.5 + 1);\n}; "],"names":["sleep","check","http","options","stages","duration","target","thresholds","http_req_duration","http_req_failed","API_BASE_URL","__ENV","WALLET_ID","pageSize","Math","floor","random","page","params","headers","_objectSpread","toString","limit","sort","res","get","concat","statusIs200","status","transactionsDataIsValid","body","JSON","parse","_typeof","Array","isArray","transactions","items","data","_unused","paginationInfoIsPresent","_body$meta","totalCount","undefined","total","meta","_unused2"],"sourceRoot":""}