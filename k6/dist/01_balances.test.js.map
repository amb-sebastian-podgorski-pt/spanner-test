{"version":3,"file":"01_balances.test.js","mappings":";;UAAA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNA,MAAM,2BAA4B;;ACAlC,MAAM,oBAA4B;;;;ACAP;AAEA;AAGpB,IAAIE,OAAgB,GAAG;EAC5BC,MAAM,EAAE,CACN;IAAEC,QAAQ,EAAE,KAAK;IAAEC,MAAM,EAAE;EAAG,CAAC,EAC/B;IAAED,QAAQ,EAAE,IAAI;IAAEC,MAAM,EAAE;EAAG,CAAC,EAC9B;IAAED,QAAQ,EAAE,KAAK;IAAEC,MAAM,EAAE;EAAE,CAAC,CAC/B;EACDC,UAAU,EAAE;IACVC,iBAAiB,EAAE,CAAC,WAAW,CAAC;IAChCC,eAAe,EAAE,CAAC,WAAW;EAC/B;AACF,CAAC;AAED,IAAMC,YAAY,GAAGC,KAAK,CAACD,YAAY,IAAI,+BAA+B;AAC1E,IAAME,SAAS,GAAGD,KAAK,CAACC,SAAS,IAAI,sCAAsC;AAE3E,wDAAe,YAAM;EACnB,IAAMC,MAAM,GAAG;IACbC,OAAO,EAAE;MACP,QAAQ,EAAE;IACZ;EACF,CAAC;EAED,IAAMC,GAAG,GAAGb,kBAAQ,IAAAe,MAAA,CACfP,YAAY,eAAAO,MAAA,CAAYL,SAAS,GACpCC,MACF,CAAC;EAEDZ,qCAAK,CAACc,GAAG,EAAE;IACT,eAAe,EAAE,SAAAG,YAAA;MAAA,OAAMH,GAAG,CAACI,MAAM,KAAK,GAAG;IAAA;IACzC,sBAAsB,EAAE,SAAAC,kBAAA,EAAM;MAC5B,IAAI;QACF,IAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACR,GAAG,CAACM,IAAc,CAAC;QAC3C,OAAOA,IAAI,IACJG,OAAA,CAAOH,IAAI,MAAK,QAAQ,IACxBA,IAAI,CAACI,EAAE,KAAKC,SAAS,IACrBL,IAAI,CAACM,OAAO,KAAKD,SAAS;MACnC,CAAC,CAAC,OAAAE,OAAA,EAAM;QACN,OAAO,KAAK;MACd;IACF;EACF,CAAC,CAAC;AACJ,CAAC,E","sources":["webpack://typescript/webpack/bootstrap","webpack://typescript/webpack/runtime/compat get default export","webpack://typescript/webpack/runtime/define property getters","webpack://typescript/webpack/runtime/hasOwnProperty shorthand","webpack://typescript/webpack/runtime/make namespace object","webpack://typescript/external commonjs \"k6\"","webpack://typescript/external commonjs \"k6/http\"","webpack://typescript/./src/01_balances.test.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6/http\");","import { check } from 'k6';\nimport { Options } from 'k6/options';\nimport http from 'k6/http';\n\n\nexport let options: Options = {\n  stages: [\n    { duration: '30s', target: 50 },\n    { duration: '1m', target: 50 },\n    { duration: '30s', target: 0 },  \n  ],\n  thresholds: {\n    http_req_duration: ['p(95)<500'],  \n    http_req_failed: ['rate<0.01'],   \n  },\n};\n\nconst API_BASE_URL = __ENV.API_BASE_URL || 'http://192.168.0.104:8080/api';\nconst WALLET_ID = __ENV.WALLET_ID || '54144ef0-8063-4b8c-82c5-3b2e8ffad796';\n\nexport default () => {\n  const params = {\n    headers: {\n      'Accept': 'application/json',\n    },\n  };\n\n  const res = http.get(\n    `${API_BASE_URL}/wallets/${WALLET_ID}`,\n    params\n  );\n\n  check(res, {\n    'status is 200': () => res.status === 200,\n    'wallet data is valid': () => {\n      try {\n        const body = JSON.parse(res.body as string);\n        return body && \n               typeof body === 'object' && \n               body.id !== undefined &&\n               body.balance !== undefined;\n      } catch {\n        return false;\n      }\n    },\n  });\n}; "],"names":["check","http","options","stages","duration","target","thresholds","http_req_duration","http_req_failed","API_BASE_URL","__ENV","WALLET_ID","params","headers","res","get","concat","statusIs200","status","walletDataIsValid","body","JSON","parse","_typeof","id","undefined","balance","_unused"],"sourceRoot":""}