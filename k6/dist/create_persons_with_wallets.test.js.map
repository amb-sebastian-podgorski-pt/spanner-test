{"version":3,"file":"create_persons_with_wallets.test.js","mappings":";;UAAA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNA,MAAM,oBAA4B;;;ACAlC,MAAM,2BAA4B;;ACAlC,MAAM,yBAA4B;;;;ACAP;AACF;AAEU;;AAEnC;AACA,IAAMG,YAAY,GAAGC,KAAK,CAACD,YAAY,IAAI,8BAA8B;AAEzE,SAASE,SAASA,CAACC,KAAa,EAAE;EAC9B,IAAMC,MAAM,GAAGC,IAAI,CAACC,SAAS,CAAC;IAC1BC,SAAS,EAAE,IAAI,GAAGJ,KAAK;IACvBK,QAAQ,EAAE,IAAI,GAAGL,KAAK;IACtBM,KAAK,EAAEN,KAAK,GAAG;EACnB,CAAC,CAAC;EAEF,OAAON,mBAAS,IAAAc,MAAA,CAAIX,YAAY,eAAYI,MAAM,EAAE;IAChDQ,OAAO,EAAE;MACL,QAAQ,EAAE,kBAAkB;MAC5B,cAAc,EAAE;IACpB,CAAC;IAAEC,IAAI,EAAE;MACLC,IAAI,EAAE;IACV;EACJ,CAAC,CAAC;AACN;AAEO,IAAIC,OAAgB,GAAG;EAC1BC,SAAS,EAAE;IACPC,OAAO,EAAE;MACLC,QAAQ,EAAE,mBAAmB;MAC7BC,GAAG,EAAE,CAAC;MACNC,UAAU,EAAE,MAAM;MAClBC,WAAW,EAAE;IACjB;EACJ,CAAC;EACDC,UAAU,EAAE;IACRC,iBAAiB,EAAE,CAAC,WAAW,CAAC;IAChCC,eAAe,EAAE,CAAC,WAAW;EACjC;AAEJ,CAAC;AAED,uEAAe,YAAM;EACjB,IAAMC,YAAY,GAAG1B,8BAAiB,CAAC2B,mBAAmB;EAC1D,IAAMC,GAAG,GAAGzB,SAAS,CAACuB,YAAY,CAAC;;EAEnC;;EAEA;;EAEA3B,qCAAK,CAAC6B,GAAG,EAAE;IACP,eAAe,EAAE,SAAAC,YAAA;MAAA,OAAMD,GAAG,CAACE,MAAM,KAAK,GAAG;IAAA;IACzC,sBAAsB,EAAE,SAAAC,kBAAA,EAAM;MAC1B,IAAI;QACA,IAAMC,IAAI,GAAG1B,IAAI,CAAC2B,KAAK,CAACL,GAAG,CAACI,IAAc,CAAC;QAC3C,OAAOA,IAAI,IACPE,OAAA,CAAOF,IAAI,MAAK,QAAQ,IACxBA,IAAI,CAACG,EAAE,KAAKC,SAAS,IACrBJ,IAAI,CAACxB,SAAS,KAAK4B,SAAS,IAC5BJ,IAAI,CAACvB,QAAQ,KAAK2B,SAAS,IAC3BJ,IAAI,CAACtB,KAAK,KAAK0B,SAAS;MAChC,CAAC,CAAC,OAAAC,OAAA,EAAM;QACJ,OAAO,KAAK;MAChB;IACJ;EACJ,CAAC,CAAC;AACN,CAAC,E","sources":["webpack://typescript/webpack/bootstrap","webpack://typescript/webpack/runtime/compat get default export","webpack://typescript/webpack/runtime/define property getters","webpack://typescript/webpack/runtime/hasOwnProperty shorthand","webpack://typescript/webpack/runtime/make namespace object","webpack://typescript/external commonjs \"k6/http\"","webpack://typescript/external commonjs \"k6\"","webpack://typescript/external commonjs \"k6/execution\"","webpack://typescript/./src/create_persons_with_wallets.test.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6/http\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6/execution\");","import http from \"k6/http\";\nimport {check} from \"k6\";\nimport {Options} from \"k6/options\";\nimport scenario from 'k6/execution'\n\n// const API_BASE_URL = __ENV.API_BASE_URL || 'https://perftest-371677414206.europe-central2.run.app/api';\nconst API_BASE_URL = __ENV.API_BASE_URL || 'http://192.168.1.12:8080/api';\n\nfunction addPerson(index: number) {\n    const person = JSON.stringify({\n        firstName: 'FN' + index,\n        lastName: 'LN' + index,\n        email: index + '@spanner.1.gmail.com'\n    });\n\n    return http.post(`${API_BASE_URL}/persons`, person, {\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        }, tags: {\n            name: 'addPerson'\n        }\n    })\n}\n\nexport let options: Options = {\n    scenarios: {\n        persons: {\n            executor: 'shared-iterations',\n            vus: 5,\n            iterations: 100000,\n            maxDuration: '5m'\n        }\n    },\n    thresholds: {\n        http_req_duration: ['p(95)<500'],\n        http_req_failed: ['rate<0.01'],\n    },\n\n}\n\nexport default () => {\n    const currentIndex = scenario.scenario.iterationInInstance;\n    const res = addPerson(currentIndex);\n\n    // console.log(res.status)\n\n    // console.log(JSON.parse(res.body as string).id)\n\n    check(res, {\n        'status is 200': () => res.status === 200,\n        'person data is valid': () => {\n            try {\n                const body = JSON.parse(res.body as string);\n                return body &&\n                    typeof body === 'object' &&\n                    body.id !== undefined &&\n                    body.firstName !== undefined &&\n                    body.lastName !== undefined &&\n                    body.email !== undefined;\n            } catch {\n                return false;\n            }\n        },\n    });\n};"],"names":["http","check","scenario","API_BASE_URL","__ENV","addPerson","index","person","JSON","stringify","firstName","lastName","email","post","concat","headers","tags","name","options","scenarios","persons","executor","vus","iterations","maxDuration","thresholds","http_req_duration","http_req_failed","currentIndex","iterationInInstance","res","statusIs200","status","personDataIsValid","body","parse","_typeof","id","undefined","_unused"],"sourceRoot":""}